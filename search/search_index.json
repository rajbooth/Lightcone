{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the galaxy lightcone catalog This document describes the contents of a galaxy lightcone and the associated file structure used to store this data, and provides illustrative samples of python code that can be used to retrieve and process this data. The lighcone catalog dataset provides positional, redshift, and luminosity data on more than 16 billion galaxies spanning a co-moving spatial volume of 6000/h \\, Mpc^3 .","title":"Home"},{"location":"#welcome-to-the-galaxy-lightcone-catalog","text":"This document describes the contents of a galaxy lightcone and the associated file structure used to store this data, and provides illustrative samples of python code that can be used to retrieve and process this data. The lighcone catalog dataset provides positional, redshift, and luminosity data on more than 16 billion galaxies spanning a co-moving spatial volume of 6000/h \\, Mpc^3 .","title":"Welcome to the galaxy lightcone catalog"},{"location":"about/","text":"Overview The galaxy lightcone catalogue provides a dataset of over 2 billion galaxies extending out to a redshift of z \\simeq 0.85 , contained in a co-moving cubic volume of 6000 Mpc^3/h^3 . In addition to the positional co-ordinates of each galaxy, the lightcone dataset also assigns a luminosity value to each galaxy such that the overall luminosity distribution fits a Schechter function . This enables the user to apply a magnitude filter to the galaxy dataset to extract only those galaxies that will be visible in an observational galaxy survey for a given instrument sensitivity. The dataset also holds the redshift space distortion factor associated with each galaxy, derived from its peculiar velocity in the N-body simulation snapshot. This allows the user to generate positional data in redshift space if desired.","title":"About"},{"location":"about/#overview","text":"The galaxy lightcone catalogue provides a dataset of over 2 billion galaxies extending out to a redshift of z \\simeq 0.85 , contained in a co-moving cubic volume of 6000 Mpc^3/h^3 . In addition to the positional co-ordinates of each galaxy, the lightcone dataset also assigns a luminosity value to each galaxy such that the overall luminosity distribution fits a Schechter function . This enables the user to apply a magnitude filter to the galaxy dataset to extract only those galaxies that will be visible in an observational galaxy survey for a given instrument sensitivity. The dataset also holds the redshift space distortion factor associated with each galaxy, derived from its peculiar velocity in the N-body simulation snapshot. This allows the user to generate positional data in redshift space if desired.","title":"Overview"},{"location":"building_lightcone/","text":"Methodology Source data Gadget snapshots. The luminosity function M = m - 5 (\\log_{10}D_L - 1) where M is absolute magnitude and m is apparent magnitude m = M + 5 (\\log_{10}D_L - 1) \\rightarrow D_L = 10^{0.2(m-M) - 1} where D_L = (1+z) D_C Schechter: M^*_J = -21.4 M_{bol} = M_\\odot -2.5 \\log_{10} \\frac{L_*}{L_\\odot} \\rightarrow \\frac{L_*}{L_\\odot} = 10^{0.4(M_{bol,\\odot} - M_{bol,*})} Efstathieu (Les Houches Lectures): \"In a survey limited by apparent magnitude (i.e. a flux limited samplegalaxy of luminosity L can be seen out to a distance d_{max} (redshift z_{max} ) given by:\" 5 \\log d_{max}(L) = m_{lim} - M_\\odot - 25 + 2.5 \\log(L/L_\\odot) + kz_{max} \\rightarrow \\frac{L}{L_\\odot} = d_{max}^2 10^{0.4(M_\\odot - m_{lim} + 25)} Redshift space distortion","title":"Building the lightcone"},{"location":"building_lightcone/#methodology","text":"","title":"Methodology"},{"location":"building_lightcone/#source-data","text":"Gadget snapshots.","title":"Source data"},{"location":"building_lightcone/#the-luminosity-function","text":"M = m - 5 (\\log_{10}D_L - 1) where M is absolute magnitude and m is apparent magnitude m = M + 5 (\\log_{10}D_L - 1) \\rightarrow D_L = 10^{0.2(m-M) - 1} where D_L = (1+z) D_C Schechter: M^*_J = -21.4 M_{bol} = M_\\odot -2.5 \\log_{10} \\frac{L_*}{L_\\odot} \\rightarrow \\frac{L_*}{L_\\odot} = 10^{0.4(M_{bol,\\odot} - M_{bol,*})} Efstathieu (Les Houches Lectures): \"In a survey limited by apparent magnitude (i.e. a flux limited samplegalaxy of luminosity L can be seen out to a distance d_{max} (redshift z_{max} ) given by:\" 5 \\log d_{max}(L) = m_{lim} - M_\\odot - 25 + 2.5 \\log(L/L_\\odot) + kz_{max} \\rightarrow \\frac{L}{L_\\odot} = d_{max}^2 10^{0.4(M_\\odot - m_{lim} + 25)}","title":"The luminosity function"},{"location":"building_lightcone/#redshift-space-distortion","text":"","title":"Redshift space distortion"},{"location":"data_products/","text":"Data location The primary galaxy lightcone catalogue is located on COSMA server at Durham, at: /cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky This is just over 1 Tbyte in size and hence is too large to use other than by applications that are also running on the COSMA server. A reduced size lightcone has been generated from this primary dataset, which can be used for testing purposes and at 2.8 Gbytes, is small enough for download to personal off-site computers. This can be found at: /cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky_Reduced/galaxy_lightcone_M_limited.h5 This lightcone only extends out to a redshift of z<=0.4 and a luminosity cut-off has been applied such that only galaxies with a luminosity L<= 21 are included in the catalogue. File structure The lightcone data is stored in files conforming to the hdf5 file format. Primary dataset Data for each shell derived from a specific Gadget snapshot is stored in a separate file, with a name of the form: galaxy_lightcone.snapxx where xx is the snapshot number ranging from 42 - 63. Each of these files contains 8 datasets, corresponding to each of the 8 octants that comprise the complete spherical volume of the lightcone, with a dataset name of the form: octant_x where x is the octant number in the range 0 - 7 Reduced dataset All the data for the entire reduced dataset is stored in a single dataset ('galaxies') , contained within a single file. Data fields r - co-moving radial distance (Mpc) Dec - declination in degrees (\\pm 90^\\circ) RA - right ascension (\\pm 180^\\circ) z - redshift L - luminosity ratio (L/L^*) RSD - redshift distortion (Mpc) Data stored as a gal datatype, defined as: #define galaxy datatype gal = np.dtype([('r', np.float32),('RA', np.float32),('Dec', np.float32),('z', np.float32),('RSD', np.float32),('L', np.float32)]) Co-ordinate system Positional data is stored in celestial co-ordinates, i.e. radial co-moving distance to observer r\\;(Mpc/h) , declination from equatorial plane Dec\\; (\\pm 90^\\circ) , and right ascension RA\\;(\\pm 180^\\circ) . Reading lightcone data Prerequisites Since the lightcone is stored in hdf5 format, it is necessary to load a compatible hdf5 library in order to access the lightcone dataset. Additionally, other utilities may prove useful in analysing this data. For Python users, the following imports are recommended: import h5py import healpy as hp import numpy as np import math import matplotlib.pyplot as plt import scipy.integrate as integrate from scipy.interpolate import UnivariateSpline as spl from astropy.cosmology import Planck15 as cosmo, z_at_value If it intended to visualise the lightcone data then the use of the yt visualisation package is recommended for Python users. import yt from yt.units import parsec, Msun from yt.visualization.volume_rendering.api import Scene, VolumeSource, Camera Primary dataset [to follow] Reduced dataset The following code snippet can be used to read lightcone data from the reduced dataset file into a series of numpy arrays for subsequent processing and analysis. # read data from test file outpath = '/cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky_Reduced/' fname = outpath + 'galaxy_lightcone_M_limited.h5' with h5py.File(fname,'r') as fi: # open the galaxies dataset gals = fi['galaxies'] # extract each data field into separate arrays L = gals['L'] zz = gals['z'] r = gals['r'] ra = gals['RA'] dec = gals['Dec'] RSD = gals['RSD'] print('Finished reading {0:01d} galaxies'.format(len(r))) Visualising the lightcone [to follow - transforming to Cartesian co-ordinates and visualisation in yt]","title":"Data products"},{"location":"data_products/#data-location","text":"The primary galaxy lightcone catalogue is located on COSMA server at Durham, at: /cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky This is just over 1 Tbyte in size and hence is too large to use other than by applications that are also running on the COSMA server. A reduced size lightcone has been generated from this primary dataset, which can be used for testing purposes and at 2.8 Gbytes, is small enough for download to personal off-site computers. This can be found at: /cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky_Reduced/galaxy_lightcone_M_limited.h5 This lightcone only extends out to a redshift of z<=0.4 and a luminosity cut-off has been applied such that only galaxies with a luminosity L<= 21 are included in the catalogue.","title":"Data location"},{"location":"data_products/#file-structure","text":"The lightcone data is stored in files conforming to the hdf5 file format.","title":"File structure"},{"location":"data_products/#primary-dataset","text":"Data for each shell derived from a specific Gadget snapshot is stored in a separate file, with a name of the form: galaxy_lightcone.snapxx where xx is the snapshot number ranging from 42 - 63. Each of these files contains 8 datasets, corresponding to each of the 8 octants that comprise the complete spherical volume of the lightcone, with a dataset name of the form: octant_x where x is the octant number in the range 0 - 7","title":"Primary dataset"},{"location":"data_products/#reduced-dataset","text":"All the data for the entire reduced dataset is stored in a single dataset ('galaxies') , contained within a single file.","title":"Reduced dataset"},{"location":"data_products/#data-fields","text":"r - co-moving radial distance (Mpc) Dec - declination in degrees (\\pm 90^\\circ) RA - right ascension (\\pm 180^\\circ) z - redshift L - luminosity ratio (L/L^*) RSD - redshift distortion (Mpc) Data stored as a gal datatype, defined as: #define galaxy datatype gal = np.dtype([('r', np.float32),('RA', np.float32),('Dec', np.float32),('z', np.float32),('RSD', np.float32),('L', np.float32)])","title":"Data fields"},{"location":"data_products/#co-ordinate-system","text":"Positional data is stored in celestial co-ordinates, i.e. radial co-moving distance to observer r\\;(Mpc/h) , declination from equatorial plane Dec\\; (\\pm 90^\\circ) , and right ascension RA\\;(\\pm 180^\\circ) .","title":"Co-ordinate system"},{"location":"data_products/#reading-lightcone-data","text":"","title":"Reading lightcone data"},{"location":"data_products/#prerequisites","text":"Since the lightcone is stored in hdf5 format, it is necessary to load a compatible hdf5 library in order to access the lightcone dataset. Additionally, other utilities may prove useful in analysing this data. For Python users, the following imports are recommended: import h5py import healpy as hp import numpy as np import math import matplotlib.pyplot as plt import scipy.integrate as integrate from scipy.interpolate import UnivariateSpline as spl from astropy.cosmology import Planck15 as cosmo, z_at_value If it intended to visualise the lightcone data then the use of the yt visualisation package is recommended for Python users. import yt from yt.units import parsec, Msun from yt.visualization.volume_rendering.api import Scene, VolumeSource, Camera","title":"Prerequisites"},{"location":"data_products/#primary-dataset_1","text":"[to follow]","title":"Primary dataset"},{"location":"data_products/#reduced-dataset_1","text":"The following code snippet can be used to read lightcone data from the reduced dataset file into a series of numpy arrays for subsequent processing and analysis. # read data from test file outpath = '/cosma6/data/dp004/dc-boot5/Lightcone/Galaxy_FullSky_Reduced/' fname = outpath + 'galaxy_lightcone_M_limited.h5' with h5py.File(fname,'r') as fi: # open the galaxies dataset gals = fi['galaxies'] # extract each data field into separate arrays L = gals['L'] zz = gals['z'] r = gals['r'] ra = gals['RA'] dec = gals['Dec'] RSD = gals['RSD'] print('Finished reading {0:01d} galaxies'.format(len(r)))","title":"Reduced dataset"},{"location":"data_products/#visualising-the-lightcone","text":"[to follow - transforming to Cartesian co-ordinates and visualisation in yt]","title":"Visualising the lightcone"}]}